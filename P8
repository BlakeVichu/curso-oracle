create table trabajador(seguro integer,nombre varchar(25), edad integer,constraint pk_seguro primary key(seguro)); create table nomina(id_nomina integer,seguro integer, sueldo_base float, horas_laboradas integer, fecha_pago date,  constraint pk_nomina primary key(id_nomina), constraint fk_seguro foreign key(seguro) references trabajador ); insert into trabajador values(1, 'Ana','28'); insert into trabajador values(2, 'Pedro','40'); insert into trabajador values(3, 'Juan','35'); insert into trabajador values(4, 'Karla','41');  insert into nomina(seguro,id_nomina,sueldo_base,horas_laboradas) values(1,1,6000,40); insert into nomina(seguro,id_nomina,sueldo_base,horas_laboradas) values(2,2,8000,30); insert into nomina(seguro,id_nomina,sueldo_base,horas_laboradas) values(3,3,7000,42); insert into nomina(seguro,id_nomina,sueldo_base,horas_laboradas) values(4,4,10000,48); select * from nomina;  --secuendia de nomina  CREATE SEQUENCE SEC_NOMINA START WITH 1 INCREMENT BY 1 NOMAXVALUE; CREATE OR REPLACE PROCEDURE GUARDAR_NOMINA(MY_ID_NOMINA OUT INTEGER, MY_SEGURO IN INTEGER, MY_SUELDO_BASE IN INTEGER) AS BEGIN SELECT SEC_NOMINA.NEXTVAL INTO MY_ID_NOMINA FROM DUAL; INSERT INTO NOMINA(ID_NOMINA, SEGURO, SUELDO_BASE) VALUES(MY_ID_NOMINA, MY_SEGURO,MY_SUELDO_BASE); END; / CREATE OR REPLACE PROCEDURE GENERAR_TRABAJADOR(MY_SEGURO IN INTEGER, MY_NOMBRE IN VARCHAR2, MY_EDAD IN INTEGER, MY_ID_NOMINA OUT INTEGER, MY_SUELDO_BASE IN FLOAT) AS BEGIN INSERT INTO TRABAJADOR VALUES(MY_SEGURO, MY_NOMBRE, MY_EDAD); GUARDAR_NOMINA(MY_ID_NOMINA, MY_SEGURO, MY_SUELDO_BASE); END; / DECLARE  VALOR INTEGER; BEGIN GENERAR_TRABAJADOR(1, 'Ana','28',VALOR,6000);  GENERAR_TRABAJADOR(2, 'Pedro','40',VALOR,8000); GENERAR_TRABAJADOR(3, 'Juan','35',VALOR,7000); GENERAR_TRABAJADOR(4, 'karla','41',VALOR,10000); END ;/ select * from trabajador; select *from nomina; DECLARE CURSOR CUR_1 IS (SELECT * FROM TRABAJADOR);CURSOR CUR_2 IS (SELECT * FROM NOMINA);BEGIN FOR GATO IN CUR_1 LOOP FOR PERRO IN CUR_2 LOOPIF PERRO.SEGURO=GATO.SEGURO THENdbms_output.put_line('NOMBRE' || GATO.NOMBRE || 'SUELDO' || PERRO.SUELDO_BASE);END IF;END LOOP ;END LOOP;END;/DECLARE CURSOR CUR_3 IS (SELECT * FROM NOMINA) FOR UPDATE;BEGIN FOR GATO IN CUR_3 LOOP;UPDATE NOMINA SET HORAS_LABORADAS = NULL WHERE CURRENT OF CUR_3;END LOOP ;END;/SELECT * FROM NOMINA;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
